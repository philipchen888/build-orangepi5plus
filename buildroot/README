Build buildroot sdcard image for orangepi 5 plus.

See ../uboot/README to erase SPI flash.

Input files: ../uboot/out/idbloader.img
             ../uboot/out/u-boot.itb
             ../linux/linux/arch/arm64/boot/Image
             ../linux/linux/arch/arm64/boot/dts/rockchip/rk3588-orangepi-5-plus.dtb
             ../linux/linux/tmp/lib/modules/

wget https://buildroot.org/downloads/buildroot-2025.08.1.tar.gz
tar -xzf buildroot-2025.08.1.tar.gz
mv buildroot-2025.08.1 buildroot
vi ./buildroot/configs/orangepi_5_plus_defconfig ( delete KERNEL, UBOOT, BR2_DOWNLOAD_FORCE_CHECK_HASHES=y, BR2_PACKAGE_HOST_LINUX_HEADERS_CUSTOM_6_12=y, BR2_GLOBAL_PATCH_DIR, append ./patches/orangepi_5_defconfig )
cp ./patches/orangepi-5/* ./buildroot/board/orangepi/orangepi-5-plus/
cd buildroot
\rm -rf .config output
make clean
make orangepi_5_plus_defconfig
make

The result is in ./output/images/sdcard.img

Plugin sdcard to PC.
sudo dd if=./output/images/sdcard.img of=/dev/sda bs=4096 conv=notrunc,fsync

sudo mount /dev/sda4 /mnt
sudo vi /mnt/etc/network/interfaces ( delete everything after iface lo inet loopback )
sudo vi /mnt/etc/vsftpd.conf ( anonymous_enable=NO, local_enable=YES, write_enable=YES )
sudo mkdir -p /mnt/lib/modules
sudo cp -r ../../linux/linux/tmp/lib/modules/* /mnt/lib/modules
sync; sudo umount /mnt;
Eject sdcard from PC.

Plugin sdcard and ethernet cable to orangepi_5_plus.
login:
username: root
password: linaro

ssh root@192.168.86.211

uname -a

adduser linaro

date
aplay -l
vi /etc/asound.conf ( add
pcm.!default {
type hw
card 1
}
ctl.!default {
type hw
card 1
}

alsactl -F restore

aplay /home/linaro/yoursong.wav
mpg123 -a hw:1,0 /home/linaro/yoursong.mp3
mpv /home/linaro/yoursong.mp3
